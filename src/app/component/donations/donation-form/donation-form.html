<h2>Realizar donación</h2>

<form [formGroup]="form"="form" (ngSubmit)="onSubmit()">

  <!-- MONTO -->
  <div>
    <label for="amount">Monto a donar ($)</label>
    <input 
      type="number" 
      id="amount" 
      formControlName="amount" 
      placeholder="Ej: 2000"
    >
    
    @if (form.get('amount')?.touched && form.get('amount')?.invalid) {
      <small>El monto es obligatorio y debe ser mayor o igual a 100.</small>
    }
  </div>

  <!-- MÉTODO DE PAGO -->
  <div>
    <label for="method">Método de pago</label>
    <select id="method" formControlName="method">
      <option value="" disabled selected>Selecciona una opción</option>

      @for (m of methods; track $index) {
        <option [value]="m">{{ m }}</option>
      }
    </select>

    @if (form.get('method')?.touched && form.get('method')?.invalid) {
      <small>Seleccioná un método de pago.</small>
    }
  </div>

  <!-- MENSAJE OPCIONAL -->
  <div>
    <label for="message">Mensaje (opcional)</label>
    <textarea
      id="message"
      rows="3"
      formControlName="message"
      placeholder="Escribí un mensaje para el refugio..."
    ></textarea>

    @if (form.get('message')?.touched && form.get('message')?.invalid) {
      <small>Máximo 200 caracteres.</small>
    }
  </div>

  <!-- BOTÓN -->
  <button type="submit" [disabled]="form.invalid">
    Confirmar donación
  </button>

</form>
