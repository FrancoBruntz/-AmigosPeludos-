<section class="container">
    <h1>Mis Solicitudes de Adopci√≥n</h1>

    <p class="loading" *ngIf="loading">Cargando solicitudes...</p>
    <p class="error" *ngIf="!loading && error">{{ error }}</p>

    <table class="solicitudes-table" *ngIf="!loading && !error && data.length > 0">
        <thead>
            <tr>
                <th>Fecha</th>
                <th>Animal</th>
                <th>Estado</th>
                <th>Comentarios</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let s of data; trackBy: trackById" [class]="getEstadoClase(s.estado)">
                <td>{{ s.fecha | date: 'short' }}</td>
                <td><strong>{{ getNombreAnimal(s.animalId) }}</strong></td>
                <td><span class="estado-badge" [class]="s.estado">{{ s.estado | uppercase }}</span></td>
                <td class="comentarios">{{ s.comentarios || '-' }}</td>
                <td class="acciones">
                    <a [routerLink]="['/details', s.animalId]">Ver animal</a>
                    <button *ngIf="s.estado === 'pendiente'" (click)="cancelarSolicitud(s)">Cancelar</button>
                </td>
            </tr>
        </tbody>
    </table>

    <p class="empty" *ngIf="!loading && !error && data.length === 0">No tenes solicitudes.</p>

</section>
