@if (!showOnlyAvailable) {
  <h2>Nuestros animalitos del refugio</h2>
} @else {
  <h2>Nuestro historial de animalitos</h2>
}

<!-- Toggle de filtro - solo para admin -->
@if (auth.isAdmin()) {
  <div class="filter-bar">
    <label class="switch">
      <input
        type="checkbox" [(ngModel)]="showOnlyAvailable" (ngModelChange)="onToggle($event)"/>
      <span class="slider"></span>
    </label>
    <span class="filter-label">Historial</span>
  </div>
}

<!-- Filtro por tipo (Perro / Gato) para TODOS (admin y adoptantes) -->
<div class="type-filter">
  <span class="type-filter-label">üêæ Filtrar por:</span>

  <select
    id="typeFilter"
    [(ngModel)]="selectedType"
    (ngModelChange)="applyFilter()"
  >
    <option value="">Todos</option>
    <option value="Perro">Perros</option>
    <option value="Gato">Gatos</option>
  </select>
</div>

<!-- LISTA DE TARJETAS -->
<div class="cards">
  @for (pet of pets(); track $index) {

    <div class="card">

      <!-- Imagen -->
      <img [src]="pet.image" alt="{{ pet.name }}" class="pet-img">

      <!-- Nombre -->
      <h3>{{ pet.name }}</h3>

      <!-- Mensaje -->
      <p class="family-msg">Quiere ser parte de tu familia ‚ù§</p>

      <!-- Acciones -->
      <div class="card-actions">
        <a class="btn details" [routerLink]="['/details', pet.id]">Detalles</a>


      @if (!auth.isAdmin()) {
    <button class="btn fav" (click)="agregarFavorito(pet)">‚ù§Ô∏è Favorito</button>
    }

        @if (auth.isAdmin()) {
          <a class="btn edit" [routerLink]="['/edit', pet.id]">Editar</a>
          <button class="btn delete" (click)="eliminarPet(pet.id)">
            Eliminar
          </button>
        }
      </div>

    </div>

  }
</div>